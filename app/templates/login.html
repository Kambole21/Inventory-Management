<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Login Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{url_for('static', filename='login.css')}}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
	<main class="container d-flex justify-content-center align-items-center min-vh-100">
		<div class="card shadow-sm p-4 login-card w-100" style="max-width: 600px;">
			<!-- Flash Messages -->
			{% with messages = get_flashed_messages(with_categories=true) %}
				{% if messages %}
					{% for category, message in messages %}
						<div class="alert alert-{{ 'success' if category == 'success' else 'danger' }} alert-dismissible fade show" role="alert">
							{{ message }}
							<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
						</div>
					{% endfor %}
				{% endif %}
			{% endwith %}

			<div class="text-center mb-4">
				<legend>Sign In</legend>
			</div>
			<form method="POST" action="{{ url_for('login.log') }}" id="loginForm">
				{{ form.hidden_tag() }}
				<div class="mb-3">
					{{ form.email.label(class="form-label") }}
					{{ form.email(class="form-control", placeholder="Enter email") }}
					{% for error in form.email.errors %}
						<div class="text-danger">{{ error }}</div>
					{% endfor %}
				</div>
				<div class="mb-3">
					{{ form.password.label(class="form-label") }}
					{{ form.password(class="form-control", placeholder="Enter password") }}
					{% for error in form.password.errors %}
						<div class="text-danger">{{ error }}</div>
					{% endfor %}
				</div>
				<div class="d-grid">
					{{ form.sub_button(class="btn btn-primary") }}
				</div>
			</form>
			<div class="mt-3 text-center">
				<a href="{{ url_for('registration.reg') }}" id="reg">Create Account</a>
			</div>
			<p class="text-muted">Forgotten your password<a href="#"> Click here </a>	</p>
		</div>
	</main>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>